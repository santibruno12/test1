---
tags: ['4']
---
#  Recargas


##### Uno de nustros principales metodos es la carga virtual de productos, estos se hacen a traves del metodo /sales/topup variando los datos del "Request" para determinar la recarga a ejecutar


#
## • Obtencion de producto

El primer paso para hacer una recarga es obtener el ID del producto que desea utilizar (Personal, DirecTV, Sube, etc.)

Esto lo haremos a traves del metodo **/products**, el cual te devuevle todos los productos disponibles para utilizar. Necesitaremos guardar el ID del producto que vamos a utliziar
```json
[
  {
    "id": "7CD008734CB91C54A100",
    "code": "256",
    "skuCode": "5701234567899",
    "enable": true,
    "name": "DirecTV",
    "smallDescription": "Recarga DirecTv",
    "description": "IMPORTANTE - Para ingresar la operacion se debe utilizar el codigo de  18  digitos de la tarjeta. Los montos de recarga permitidos son desde $150 hasta $2000",
    "productGroup": {
      "id": "3B26087384811DD52425",
      "code": "Recharge",
      "name": "Recargas",
      "parentCategoryId": "Recargas",
      "imageUrl": "https://cajavecina.gisgeoresearch.com/assets/images/icons/recargar_celular.png",
      "description": "Productos de Recarga Virtuales"
    },
    "productType": {},
    "vendor": {
      "id": "3B26087384811DD52425",
      "code": "000418",
      "name": "DirectTv",
      "description": "DirecTv S.A.",
      "imageUrl": "gv/externalFiles/dtv-logo.jpg"
    },
    "maxDigits": "0,10,10",
    "initialValues": "10",
    "minimium": 150,
    "maximium": 2000,
    "salePrice": 270,
    "fractionalAmount": 10,
    "imageUrl": "https://cdn.telerecargas.com.ar/gvp/gv/externalFiles/dtv-logo.jpg",
    "transactionDataLabel": "Ingrese numero medidor",
    "transactionDataClassName": "CodeData"
  }
]
```
#

## • Recargas identificadas por numero de telefono

Cada compañia telefonica (la cual se encuentra disponible para hacer recarga) posee distinto ID el cual debemos modificar dependiendo la que se desee hacer. 

Ademas, deberan enviar el numero de telefono como string dentro del dato "phoneNumber".




```json
{
  "transactionType": "Sale",
  "amount": 10,
  "clientTransactionId": "6959a1f5-7eef-4a84-bea3-281b2fff7e02",
  "product": {
    "id": "7CD004AC7E3F24B347F5"
  },
  "transactionData": {
    "phoneNumber": "1111110001"
  }
}

```

## • Recargas identificadas por codigo de cliente, servicio, etc

Para recargas de servicios se necesita el ID del producto ademas del codigo que se requiera en cada caso, este lo enviaremos a traves del dato "code"


```json
{ 
  "transactionType": "Sale",  
  "amount": 160.0,    
  "clientTransactionId": "444551",
  "product": {
      "id": "7CD012091DEF1C47B332"
  },
  "transactionData": {
      "code": "1234123412340123"
  }
}


```
## • Recargas SUBE

Esta recarga es muy similar a las "Recargas identificadas por codigo", Deberiamos cologar el ID de SUBE en el request con su codigo en string en el dato "code"

```json
{ 
  "transactionType": "Sale",  
  "amount": 160.0,    
  "clientTransactionId": "444551",
  "product": {
      "id": "7CD012091DEF1C47B332"
  },
  "transactionData": {
      "code": "1234123412340123"
  }
}


```
#### **Recordar que luego del login, todos los metodos deberean poseer el AccessToken en el Header**

